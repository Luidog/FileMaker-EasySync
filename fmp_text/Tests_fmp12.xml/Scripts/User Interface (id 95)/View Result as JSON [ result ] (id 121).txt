# REVISIONS:
#    2014-DEC-29	 Daniel Smith	- check if script parameter is json before attempting to convert to json
################################################################################
#
If [ Left ( Get ( ScriptParameter ) ; 1 ) = "{" ]
Set Variable [ $json; Value:Get ( ScriptParameter ) ]
Else
Perform Script [ “FM-JSON ( letNotation )”; Parameter: Get ( ScriptParameter ) ]
Set Variable [ $json; Value:Get ( ScriptResult ) ]
End If
#
#
Set Field [ SEL__SELECTOR::JSON; $json ]
#
#
Go to Object [ Object Name: "popover_json" ]
#
#


---
Script:
  includeInMenu: 'False'
  runFullAccess: 'False'
  id: '121'
  name: View Result as JSON [ result ]
  StepList:
    Step:
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# REVISIONS:'
      Text: ' REVISIONS:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: "#    \n2014-DEC-29\t Daniel Smith\n\t- check if script parameter
        is json before attempting to convert to json"
      Text: "    \n2014-DEC-29\t Daniel Smith\n\t- check if script parameter is json
        before attempting to convert to json"
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '################################################################################'
      Text: '###############################################################################'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '68'
      name: If
      StepText: If [ Left ( Get ( ScriptParameter ) ; 1 ) = "{" ]
      Calculation: Left ( Get ( ScriptParameter ) ; 1 ) = "{"
      DisplayCalculation:
        Chunk:
        - Left
        - ' ( '
        - Get
        - ' ( '
        - ScriptParameter
        - ' ) ; 1 ) = "{"'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $json; Value:Get ( ScriptParameter ) ]
      Value:
        Calculation: Get ( ScriptParameter )
        DisplayCalculation:
          Chunk:
          - Get
          - ' ( '
          - ScriptParameter
          - ' )'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $json
    - enable: 'True'
      id: '69'
      name: Else
      StepText: Else
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: 'Perform Script [ “FM-JSON ( letNotation )”; Parameter: Get ( ScriptParameter
        ) ]'
      Calculation: Get ( ScriptParameter )
      DisplayCalculation:
        Chunk:
        - Get
        - ' ( '
        - ScriptParameter
        - ' )'
      Script:
        id: '189'
        name: FM-JSON ( letNotation )
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $json; Value:Get ( ScriptResult ) ]
      Value:
        Calculation: Get ( ScriptResult )
        DisplayCalculation:
          Chunk:
          - Get
          - ' ( '
          - ScriptResult
          - ' )'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $json
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '76'
      name: Set Field
      StepText: Set Field [ SEL__SELECTOR::JSON; $json ]
      Calculation: $json
      DisplayCalculation:
        Chunk: $json
      Field:
        table: SEL__SELECTOR
        id: '7'
        name: JSON
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '145'
      name: Go to Object
      StepText: 'Go to Object [ Object Name: "popover_json" ]'
      ObjectName:
        Calculation: '"popover_json"'
        DisplayCalculation:
          Chunk: '"popover_json"'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
