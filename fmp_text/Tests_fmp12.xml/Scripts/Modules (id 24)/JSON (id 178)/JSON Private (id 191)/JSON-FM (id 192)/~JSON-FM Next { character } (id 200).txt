################################################################################
# PURPOSE:
#    Get the next character. When there are no more characters, return the empty string.
#
# PARAMETERS:
#    if a parameter is provided, verify that it matches the current character
#
# RETURNS: none
#
# REVISIONS:
#    2014-MAR-30	 Daniel Smith	- add space before "instead of"2013-AUG-06	 Daniel Smith dansmith65@gmail.com	- created
################################################################################
#
#
If [ not IsEmpty ( Get ( ScriptParameter ) )and Get ( ScriptParameter ) ≠ $$~JSON.CH ]
Perform Script [ “~JSON-FM Error { message }”; Parameter: "Expected " & Quote ( Get ( ScriptParameter ) ) & " instead of " & Quote ( $$~JSON.CH ) ]
Exit Script [ Result: Get ( ScriptResult ) ]
End If
#
#
Set Variable [ $$~JSON.CH; Value:Middle ( $$~JSON.TEXT ; $$~JSON.AT ; 1 ) ]
Set Variable [ $$~JSON.AT; Value:$$~JSON.AT + 1 ]
#
#
Exit Script [  ]


---
Script:
  includeInMenu: 'False'
  runFullAccess: 'True'
  id: '200'
  name: ~JSON-FM Next { character }
  StepList:
    Step:
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '################################################################################'
      Text: '###############################################################################'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# PURPOSE:'
      Text: ' PURPOSE:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#    Get the next character. When there are no more characters, return
        the empty string.'
      Text: '    Get the next character. When there are no more characters, return
        the empty string.'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# PARAMETERS:'
      Text: ' PARAMETERS:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#    if a parameter is provided, verify that it matches the current
        character'
      Text: '    if a parameter is provided, verify that it matches the current character'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# RETURNS: none'
      Text: ' RETURNS: none'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# REVISIONS:'
      Text: ' REVISIONS:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: "#    \n2014-MAR-30\t Daniel Smith\n\t- add space before \"instead
        of\"\n2013-AUG-06\t Daniel Smith dansmith65@gmail.com\n\t- created"
      Text: "    \n2014-MAR-30\t Daniel Smith\n\t- add space before \"instead of\"\n2013-AUG-06\t
        Daniel Smith dansmith65@gmail.com\n\t- created"
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '################################################################################'
      Text: '###############################################################################'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '68'
      name: If
      StepText: |-
        If [ not IsEmpty ( Get ( ScriptParameter ) )
        and Get ( ScriptParameter ) ≠ $$~JSON.CH ]
      Calculation: |-
        not IsEmpty ( Get ( ScriptParameter ) )
        and Get ( ScriptParameter ) ≠ $$~JSON.CH
      DisplayCalculation:
        Chunk:
        - not
        - type: NoRef
          __content__: ' '
        - IsEmpty
        - ' ( '
        - Get
        - ' ( '
        - ScriptParameter
        - |2
           ) )
        - and
        - type: NoRef
          __content__: ' '
        - Get
        - ' ( '
        - ScriptParameter
        - ' ) ≠ $$~JSON.CH'
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: 'Perform Script [ “~JSON-FM Error { message }”; Parameter: "Expected
        " & Quote ( Get ( ScriptParameter ) ) & " instead of " & Quote ( $$~JSON.CH
        ) ]'
      Calculation: '"Expected " & Quote ( Get ( ScriptParameter ) ) & " instead of
        " & Quote ( $$~JSON.CH )'
      DisplayCalculation:
        Chunk:
        - '"Expected " & '
        - Quote
        - ' ( '
        - Get
        - ' ( '
        - ScriptParameter
        - ' ) ) & " instead of " & '
        - Quote
        - ' ( $$~JSON.CH )'
      Script:
        id: '201'
        name: ~JSON-FM Error { message }
    - enable: 'True'
      id: '103'
      name: Exit Script
      StepText: 'Exit Script [ Result: Get ( ScriptResult ) ]'
      Calculation: Get ( ScriptResult )
      DisplayCalculation:
        Chunk:
        - Get
        - ' ( '
        - ScriptResult
        - ' )'
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $$~JSON.CH; Value:Middle ( $$~JSON.TEXT ; $$~JSON.AT
        ; 1 ) ]
      Value:
        Calculation: Middle ( $$~JSON.TEXT ; $$~JSON.AT ; 1 )
        DisplayCalculation:
          Chunk:
          - Middle
          - ' ( $$~JSON.TEXT ; $$~JSON.AT ; 1 )'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $$~JSON.CH
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $$~JSON.AT; Value:$$~JSON.AT + 1 ]
      Value:
        Calculation: $$~JSON.AT + 1
        DisplayCalculation:
          Chunk: $$~JSON.AT + 1
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $$~JSON.AT
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '103'
      name: Exit Script
      StepText: Exit Script [  ]
