################################################################################
# PURPOSE:
#    Parse a number value
#
# PARAMETERS: none
#
# RETURNS:
#    number
#
# REVISIONS:
#    2013-AUG-06	 Daniel Smith dansmith65@gmail.com	- created
################################################################################
#
#
Set Variable [ $number ]
Set Variable [ $string ]
#
#
If [ $$~JSON.CH = "-" ]
Set Variable [ $string; Value:"-" ]
Perform Script [ “~JSON-FM Next { character }”; Parameter: "-" ]
End If
#
Loop
Exit Loop If [ $$~JSON.CH < "0"or $$~JSON.CH > "9" ]
Set Variable [ $string; Value:$string & $$~JSON.CH ]
Perform Script [ “~JSON-FM Next { character }” ]
End Loop
#
If [ $$~JSON.CH = "." ]
Set Variable [ $string; Value:$string & "." ]
Perform Script [ “~JSON-FM Next { character }”; Parameter: "." ]
Loop
Exit Loop If [ $$~JSON.CH < "0"or $$~JSON.CH > "9" ]
Set Variable [ $string; Value:$string & $$~JSON.CH ]
Perform Script [ “~JSON-FM Next { character }” ]
End Loop
End If
#
If [ $$~JSON.CH = "e" ]
Set Variable [ $string; Value:$string & $$~JSON.CH ]
Perform Script [ “~JSON-FM Next { character }” ]
If [ $$~JSON.CH = "-"or $$~JSON.CH = "+" ]
Set Variable [ $string; Value:$string & $$~JSON.CH ]
Perform Script [ “~JSON-FM Next { character }” ]
End If
Loop
Exit Loop If [ $$~JSON.CH < "0"or $$~JSON.CH > "9" ]
Set Variable [ $string; Value:$string & $$~JSON.CH ]
Perform Script [ “~JSON-FM Next { character }” ]
End Loop
End If
#
#
Set Variable [ $number; Value:GetAsNumber ( $string ) ]
#
#
Exit Script [ Result: $number ]
#


---
Script:
  includeInMenu: 'False'
  runFullAccess: 'True'
  id: '198'
  name: ~JSON-FM Number
  StepList:
    Step:
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '################################################################################'
      Text: '###############################################################################'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# PURPOSE:'
      Text: ' PURPOSE:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#    Parse a number value'
      Text: '    Parse a number value'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# PARAMETERS: none'
      Text: ' PARAMETERS: none'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# RETURNS:'
      Text: ' RETURNS:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#    number'
      Text: '    number'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# REVISIONS:'
      Text: ' REVISIONS:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: "#    \n2013-AUG-06\t Daniel Smith dansmith65@gmail.com\n\t- created"
      Text: "    \n2013-AUG-06\t Daniel Smith dansmith65@gmail.com\n\t- created"
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '################################################################################'
      Text: '###############################################################################'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $number ]
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $number
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string ]
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '68'
      name: If
      StepText: If [ $$~JSON.CH = "-" ]
      Calculation: $$~JSON.CH = "-"
      DisplayCalculation:
        Chunk: $$~JSON.CH = "-"
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string; Value:"-" ]
      Value:
        Calculation: '"-"'
        DisplayCalculation:
          Chunk: '"-"'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: 'Perform Script [ “~JSON-FM Next { character }”; Parameter: "-" ]'
      Calculation: '"-"'
      DisplayCalculation:
        Chunk: '"-"'
      Script:
        id: '200'
        name: ~JSON-FM Next { character }
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '71'
      name: Loop
      StepText: Loop
    - enable: 'True'
      id: '72'
      name: Exit Loop If
      StepText: |-
        Exit Loop If [ $$~JSON.CH < "0"
        or $$~JSON.CH > "9" ]
      Calculation: |-
        $$~JSON.CH < "0"
        or $$~JSON.CH > "9"
      DisplayCalculation:
        Chunk:
        - |
          $$~JSON.CH < "0"
        - or
        - ' $$~JSON.CH > "9"'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string; Value:$string & $$~JSON.CH ]
      Value:
        Calculation: $string & $$~JSON.CH
        DisplayCalculation:
          Chunk: $string & $$~JSON.CH
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: Perform Script [ “~JSON-FM Next { character }” ]
      Script:
        id: '200'
        name: ~JSON-FM Next { character }
    - enable: 'True'
      id: '73'
      name: End Loop
      StepText: End Loop
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '68'
      name: If
      StepText: If [ $$~JSON.CH = "." ]
      Calculation: $$~JSON.CH = "."
      DisplayCalculation:
        Chunk: $$~JSON.CH = "."
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string; Value:$string & "." ]
      Value:
        Calculation: $string & "."
        DisplayCalculation:
          Chunk: $string & "."
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: 'Perform Script [ “~JSON-FM Next { character }”; Parameter: "." ]'
      Calculation: '"."'
      DisplayCalculation:
        Chunk: '"."'
      Script:
        id: '200'
        name: ~JSON-FM Next { character }
    - enable: 'True'
      id: '71'
      name: Loop
      StepText: Loop
    - enable: 'True'
      id: '72'
      name: Exit Loop If
      StepText: |-
        Exit Loop If [ $$~JSON.CH < "0"
        or $$~JSON.CH > "9" ]
      Calculation: |-
        $$~JSON.CH < "0"
        or $$~JSON.CH > "9"
      DisplayCalculation:
        Chunk:
        - |
          $$~JSON.CH < "0"
        - or
        - ' $$~JSON.CH > "9"'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string; Value:$string & $$~JSON.CH ]
      Value:
        Calculation: $string & $$~JSON.CH
        DisplayCalculation:
          Chunk: $string & $$~JSON.CH
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: Perform Script [ “~JSON-FM Next { character }” ]
      Script:
        id: '200'
        name: ~JSON-FM Next { character }
    - enable: 'True'
      id: '73'
      name: End Loop
      StepText: End Loop
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '68'
      name: If
      StepText: If [ $$~JSON.CH = "e" ]
      Calculation: $$~JSON.CH = "e"
      DisplayCalculation:
        Chunk: $$~JSON.CH = "e"
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string; Value:$string & $$~JSON.CH ]
      Value:
        Calculation: $string & $$~JSON.CH
        DisplayCalculation:
          Chunk: $string & $$~JSON.CH
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: Perform Script [ “~JSON-FM Next { character }” ]
      Script:
        id: '200'
        name: ~JSON-FM Next { character }
    - enable: 'True'
      id: '68'
      name: If
      StepText: |-
        If [ $$~JSON.CH = "-"
        or $$~JSON.CH = "+" ]
      Calculation: |-
        $$~JSON.CH = "-"
        or $$~JSON.CH = "+"
      DisplayCalculation:
        Chunk:
        - |
          $$~JSON.CH = "-"
        - or
        - ' $$~JSON.CH = "+"'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string; Value:$string & $$~JSON.CH ]
      Value:
        Calculation: $string & $$~JSON.CH
        DisplayCalculation:
          Chunk: $string & $$~JSON.CH
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: Perform Script [ “~JSON-FM Next { character }” ]
      Script:
        id: '200'
        name: ~JSON-FM Next { character }
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '71'
      name: Loop
      StepText: Loop
    - enable: 'True'
      id: '72'
      name: Exit Loop If
      StepText: |-
        Exit Loop If [ $$~JSON.CH < "0"
        or $$~JSON.CH > "9" ]
      Calculation: |-
        $$~JSON.CH < "0"
        or $$~JSON.CH > "9"
      DisplayCalculation:
        Chunk:
        - |
          $$~JSON.CH < "0"
        - or
        - ' $$~JSON.CH > "9"'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $string; Value:$string & $$~JSON.CH ]
      Value:
        Calculation: $string & $$~JSON.CH
        DisplayCalculation:
          Chunk: $string & $$~JSON.CH
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $string
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: Perform Script [ “~JSON-FM Next { character }” ]
      Script:
        id: '200'
        name: ~JSON-FM Next { character }
    - enable: 'True'
      id: '73'
      name: End Loop
      StepText: End Loop
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $number; Value:GetAsNumber ( $string ) ]
      Value:
        Calculation: GetAsNumber ( $string )
        DisplayCalculation:
          Chunk:
          - GetAsNumber
          - ' ( $string )'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $number
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '103'
      name: Exit Script
      StepText: 'Exit Script [ Result: $number ]'
      Calculation: $number
      DisplayCalculation:
        Chunk: $number
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
