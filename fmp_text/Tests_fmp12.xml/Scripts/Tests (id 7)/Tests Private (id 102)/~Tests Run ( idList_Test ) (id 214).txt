################################################################################
# PURPOSE:
#    Find and run the specified tests.
#
# NOTES:
#
#
################################################################################
#
#
#
Loop
# single-pass loop for error trapping
#\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
#
#
#
#================================================================================
Set Variable [ $~script.section; Value:"SET VARIABLES" ]
#================================================================================
Set Variable [ $idList_Test; Value:Get ( ScriptParameter ) ]
#
#
#
If [ /* is client application */Left ( Get ( ApplicationVersion ) ; 3 ) = "Pro"orLeft ( Get ( ApplicationVersion ) ; 7 ) = "Runtime"orGet ( SystemPlatform ) = 3	 // iOSorGet ( SystemPlatform ) = 4	 // WebDirect ]
Freeze Window
End If
#
#
#
#================================================================================
Set Variable [ $~script.section; Value:"FIND TEST RECORDS" ]
#================================================================================
Go to Layout [ “SEL__SELECTOR” (SEL__SELECTOR) ]
Exit Loop If [ If (	Get ( LastError ) ;	Let (		$error = ErrorFmpGetLast ( "" ) ;		True	)) ]
Set Field [ SEL__SELECTOR::idList_Test; $idList_Test ]
Exit Loop If [ If (	Get ( LastError ) ;	Let (		$error = ErrorFmpGetLast ( "" ) ;		True	)) ]
Go to Related Record [ From table: “sel_TES__Test”; Using layout: “Test: List” (TES__Test) ][ Show only related records ]
Exit Loop If [ If (	Get ( LastError ) ;	Let (		$error = ErrorFmpGetLast ( "" ) ;		True	)) ]
#
#
#
#================================================================================
Set Variable [ $~script.section; Value:"RUN TESTS" ]
#================================================================================
Perform Script [ “~Tests: Run Found” ]
#
#
#
#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
# end single-pass loop for error trapping
Exit Loop If [ True ]
End Loop
#
#
#
#================================================================================
Set Variable [ $~script.section; Value:"HANDLE ERROR" ]
#================================================================================
If [ ErrorFound ( $error ) ]
Perform Script [ “Logger: Create Entry ( logData )”; Parameter: LogData ( LogLevelByError ( $error ) ; "" )& $error ]
Else If [ LogWriteEnabled ( LogLevel5Trace ) ]
Perform Script [ “Logger: Create Entry ( logData )”; Parameter: LogData ( LogLevel4Debug ; "exit script" )& # ( "~script.section" ; $~script.section )& # ( "result" ; TES__Test::resultPass ) ]
End If
#
#
#
Exit Script [ Result: # ( "error" ; $error ) ]
#


---
Script:
  includeInMenu: 'False'
  runFullAccess: 'False'
  id: '214'
  name: '~Tests: Run ( idList_Test )'
  StepList:
    Step:
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '################################################################################'
      Text: '###############################################################################'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# PURPOSE:'
      Text: ' PURPOSE:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#    Find and run the specified tests.'
      Text: '    Find and run the specified tests.'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# NOTES:'
      Text: ' NOTES:'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '################################################################################'
      Text: '###############################################################################'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '71'
      name: Loop
      StepText: Loop
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# single-pass loop for error trapping'
      Text: ' single-pass loop for error trapping'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
      Text: \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $~script.section; Value:"SET VARIABLES" ]
      Value:
        Calculation: '"SET VARIABLES"'
        DisplayCalculation:
          Chunk: '"SET VARIABLES"'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $~script.section
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $idList_Test; Value:Get ( ScriptParameter ) ]
      Value:
        Calculation: Get ( ScriptParameter )
        DisplayCalculation:
          Chunk:
          - Get
          - ' ( '
          - ScriptParameter
          - ' )'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $idList_Test
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '68'
      name: If
      StepText: "If [ /* is client application */\n\nLeft ( Get ( ApplicationVersion
        ) ; 3 ) = \"Pro\"\nor\nLeft ( Get ( ApplicationVersion ) ; 7 ) = \"Runtime\"\nor\nGet
        ( SystemPlatform ) = 3\t // iOS\nor\nGet ( SystemPlatform ) = 4\t // WebDirect
        ]"
      Calculation: "/* is client application */\n\nLeft ( Get ( ApplicationVersion
        ) ; 3 ) = \"Pro\"\nor\nLeft ( Get ( ApplicationVersion ) ; 7 ) = \"Runtime\"\nor\nGet
        ( SystemPlatform ) = 3\t // iOS\nor\nGet ( SystemPlatform ) = 4\t // WebDirect"
      DisplayCalculation:
        Chunk:
        - |+
          /* is client application */

        - Left
        - ' ( '
        - Get
        - ' ( '
        - ApplicationVersion
        - |2
           ) ; 3 ) = "Pro"
        - or
        - type: NoRef
          __content__: |2+

        - Left
        - ' ( '
        - Get
        - ' ( '
        - ApplicationVersion
        - |2
           ) ; 7 ) = "Runtime"
        - or
        - type: NoRef
          __content__: |2+

        - Get
        - ' ( '
        - SystemPlatform
        - " ) = 3\t "
        - |
          // iOS
        - or
        - type: NoRef
          __content__: |2+

        - Get
        - ' ( '
        - SystemPlatform
        - " ) = 4\t "
        - // WebDirect
    - enable: 'True'
      id: '79'
      name: Freeze Window
      StepText: Freeze Window
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $~script.section; Value:"FIND TEST RECORDS" ]
      Value:
        Calculation: '"FIND TEST RECORDS"'
        DisplayCalculation:
          Chunk: '"FIND TEST RECORDS"'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $~script.section
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '6'
      name: Go to Layout
      StepText: Go to Layout [ “SEL__SELECTOR” (SEL__SELECTOR) ]
      LayoutDestination:
        value: SelectedLayout
      Layout:
        id: '7'
        name: SEL__SELECTOR
    - enable: 'True'
      id: '72'
      name: Exit Loop If
      StepText: "Exit Loop If [ If (\n\tGet ( LastError ) ;\n\tLet (\n\t\t$error =
        ErrorFmpGetLast ( \"\" ) ;\n\t\tTrue\n\t)\n) ]"
      Calculation: "If (\n\tGet ( LastError ) ;\n\tLet (\n\t\t$error = ErrorFmpGetLast
        ( \"\" ) ;\n\t\tTrue\n\t)\n)"
      DisplayCalculation:
        Chunk:
        - If
        - " (\n\t"
        - Get
        - ' ( '
        - LastError
        - " ) ;\n\t"
        - Let
        - " (\n\t\t$error = "
        - ErrorFmpGetLast
        - " ( \"\" ) ;\n\t\t"
        - 'True'
        - "\n\t)\n)"
    - enable: 'True'
      id: '76'
      name: Set Field
      StepText: Set Field [ SEL__SELECTOR::idList_Test; $idList_Test ]
      Calculation: $idList_Test
      DisplayCalculation:
        Chunk: $idList_Test
      Field:
        table: SEL__SELECTOR
        id: '5'
        name: idList_Test
    - enable: 'True'
      id: '72'
      name: Exit Loop If
      StepText: "Exit Loop If [ If (\n\tGet ( LastError ) ;\n\tLet (\n\t\t$error =
        ErrorFmpGetLast ( \"\" ) ;\n\t\tTrue\n\t)\n) ]"
      Calculation: "If (\n\tGet ( LastError ) ;\n\tLet (\n\t\t$error = ErrorFmpGetLast
        ( \"\" ) ;\n\t\tTrue\n\t)\n)"
      DisplayCalculation:
        Chunk:
        - If
        - " (\n\t"
        - Get
        - ' ( '
        - LastError
        - " ) ;\n\t"
        - Let
        - " (\n\t\t$error = "
        - ErrorFmpGetLast
        - " ( \"\" ) ;\n\t\t"
        - 'True'
        - "\n\t)\n)"
    - enable: 'True'
      id: '74'
      name: Go to Related Record
      StepText: |-
        Go to Related Record [ From table: “sel_TES__Test”; Using layout: “Test: List” (TES__Test) ]
        [ Show only related records ]
      Option:
        state: 'False'
      MatchAllRecords:
        state: 'False'
      ShowInNewWindow:
        state: 'False'
      Restore:
        state: 'True'
      LayoutDestination:
        value: SelectedLayout
      NewWndStyles:
        Styles: '983554'
      Table:
        id: '1065096'
        name: sel_TES__Test
      Layout:
        id: '6'
        name: 'Test: List'
    - enable: 'True'
      id: '72'
      name: Exit Loop If
      StepText: "Exit Loop If [ If (\n\tGet ( LastError ) ;\n\tLet (\n\t\t$error =
        ErrorFmpGetLast ( \"\" ) ;\n\t\tTrue\n\t)\n) ]"
      Calculation: "If (\n\tGet ( LastError ) ;\n\tLet (\n\t\t$error = ErrorFmpGetLast
        ( \"\" ) ;\n\t\tTrue\n\t)\n)"
      DisplayCalculation:
        Chunk:
        - If
        - " (\n\t"
        - Get
        - ' ( '
        - LastError
        - " ) ;\n\t"
        - Let
        - " (\n\t\t$error = "
        - ErrorFmpGetLast
        - " ( \"\" ) ;\n\t\t"
        - 'True'
        - "\n\t)\n)"
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $~script.section; Value:"RUN TESTS" ]
      Value:
        Calculation: '"RUN TESTS"'
        DisplayCalculation:
          Chunk: '"RUN TESTS"'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $~script.section
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: 'Perform Script [ “~Tests: Run Found” ]'
      Script:
        id: '215'
        name: '~Tests: Run Found'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////'
      Text: ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '# end single-pass loop for error trapping'
      Text: ' end single-pass loop for error trapping'
    - enable: 'True'
      id: '72'
      name: Exit Loop If
      StepText: Exit Loop If [ True ]
      Calculation: 'True'
      DisplayCalculation:
        Chunk: 'True'
    - enable: 'True'
      id: '73'
      name: End Loop
      StepText: End Loop
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '141'
      name: Set Variable
      StepText: Set Variable [ $~script.section; Value:"HANDLE ERROR" ]
      Value:
        Calculation: '"HANDLE ERROR"'
        DisplayCalculation:
          Chunk: '"HANDLE ERROR"'
      Repetition:
        Calculation: '1'
        DisplayCalculation:
          Chunk: '1'
      Name: $~script.section
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#================================================================================'
      Text: ================================================================================
    - enable: 'True'
      id: '68'
      name: If
      StepText: If [ ErrorFound ( $error ) ]
      Calculation: ErrorFound ( $error )
      DisplayCalculation:
        Chunk:
        - ErrorFound
        - ' ( $error )'
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: |-
        Perform Script [ “Logger: Create Entry ( logData )”; Parameter: LogData ( LogLevelByError ( $error ) ; "" )
        & $error ]
      Calculation: |-
        LogData ( LogLevelByError ( $error ) ; "" )
        & $error
      DisplayCalculation:
        Chunk:
        - LogData
        - ' ( '
        - LogLevelByError
        - |2-
           ( $error ) ; "" )
          & $error
      Script:
        id: '32'
        name: 'Logger: Create Entry ( logData )'
    - enable: 'True'
      id: '125'
      name: Else If
      StepText: Else If [ LogWriteEnabled ( LogLevel5Trace ) ]
      Calculation: LogWriteEnabled ( LogLevel5Trace )
      DisplayCalculation:
        Chunk:
        - LogWriteEnabled
        - ' ( '
        - LogLevel5Trace
        - ' )'
    - enable: 'True'
      id: '1'
      name: Perform Script
      StepText: |-
        Perform Script [ “Logger: Create Entry ( logData )”; Parameter: LogData ( LogLevel4Debug ; "exit script" )
        & # ( "~script.section" ; $~script.section )
        & # ( "result" ; TES__Test::resultPass ) ]
      Calculation: |-
        LogData ( LogLevel4Debug ; "exit script" )
        & # ( "~script.section" ; $~script.section )
        & # ( "result" ; TES__Test::resultPass )
      DisplayCalculation:
        Chunk:
        - LogData
        - ' ( '
        - LogLevel4Debug
        - " ; \"exit script\" )\n& "
        - '#'
        - " ( \"~script.section\" ; $~script.section )\n& "
        - '#'
        - ' ( "result" ; '
        - type: FieldRef
          Field:
            table: TES__Test
            id: '9'
            name: resultPass
        - ' )'
      Script:
        id: '32'
        name: 'Logger: Create Entry ( logData )'
    - enable: 'True'
      id: '70'
      name: End If
      StepText: End If
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
    - enable: 'True'
      id: '103'
      name: Exit Script
      StepText: 'Exit Script [ Result: # ( "error" ; $error ) ]'
      Calculation: '# ( "error" ; $error )'
      DisplayCalculation:
        Chunk:
        - '#'
        - ' ( "error" ; $error )'
    - enable: 'True'
      id: '89'
      name: Comment
      StepText: '#'
